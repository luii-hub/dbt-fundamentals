models:
  - name: stg_jaffle_shop__customers
    description: "The grain of this table is one unique customer per row"
    columns:
      - name: customer_id 
        description: "Primary key for customers in the jaffle shop"
        data_tests: 
        - unique
        - not_null
      - name: first_name
        description: "Customer first name"
      - name: last_name
        description: "Customer last name"
  - name: stg_jaffle_shop__orders
    description: "The grain of this table is one unique order per row"
    columns:
      - name: order_id
        description: "Primary key for orders in the jaffle shop"
        data_tests:
        - unique
        - not_null
      - name: customer_id
        description: "Foreign key to the customers table"
        data_tests:
        - not_null
        - relationships:
            field: customer_id
            to: ref('stg_jaffle_shop__customers')
      - name: order_date
        description: "The date the order was placed"
      - name: order_status
        description: "{{ doc('order_status') }}"
        data_tests:
          - accepted_values: 
              values:
                - completed
                - shipped
                - returned
                - placed
                - return_pending
        
